<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>madstap.comfy documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Comfy</span> <span class="project-version">1.0.3</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="intro.html"><div class="inner"><span>Introduction to comfy</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 current"><a href="madstap.comfy.html"><div class="inner"><span>madstap.comfy</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="madstap.comfy.html#var-.3C.3C-.3E"><div class="inner"><span>&lt;&lt;-&gt;</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-append"><div class="inner"><span>append</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-append-some"><div class="inner"><span>append-some</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-assoc-in-some"><div class="inner"><span>assoc-in-some</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-assoc-some"><div class="inner"><span>assoc-some</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-conj-some"><div class="inner"><span>conj-some</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-deep-merge"><div class="inner"><span>deep-merge</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-deep-merge-with"><div class="inner"><span>deep-merge-with</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-defs"><div class="inner"><span>defs</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-flip"><div class="inner"><span>flip</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-fn-.3E"><div class="inner"><span>fn-&gt;</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-fn-.3E.3E"><div class="inner"><span>fn-&gt;&gt;</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-for"><div class="inner"><span>for</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-for-map"><div class="inner"><span>for-map</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-forcat"><div class="inner"><span>forcat</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-forcatv"><div class="inner"><span>forcatv</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-forv"><div class="inner"><span>forv</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-frequencies-by"><div class="inner"><span>frequencies-by</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-group-by"><div class="inner"><span>group-by</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-keep"><div class="inner"><span>keep</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-map-all"><div class="inner"><span>map-all</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-one.3F"><div class="inner"><span>one?</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-postwalk-reduce"><div class="inner"><span>postwalk-reduce</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-postwalk-transduce"><div class="inner"><span>postwalk-transduce</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-prewalk-reduce"><div class="inner"><span>prewalk-reduce</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-prewalk-transduce"><div class="inner"><span>prewalk-transduce</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-run.21"><div class="inner"><span>run!</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-sentinel"><div class="inner"><span>sentinel</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-sentinels"><div class="inner"><span>sentinels</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-str-.3Edec"><div class="inner"><span>str-&gt;dec</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-str-.3Eint"><div class="inner"><span>str-&gt;int</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-take-while-distinct"><div class="inner"><span>take-while-distinct</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-take-while-distinct-by"><div class="inner"><span>take-while-distinct-by</span></div></a></li><li class="depth-1"><a href="madstap.comfy.html#var-two.3F"><div class="inner"><span>two?</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">madstap.comfy</h1><div class="doc"><div class="markdown"><p>A small collection of functions and macros that (mostly) wouldn’t be out of place in clojure.core.</p></div></div><div class="public anchor" id="var-.3C.3C-.3E"><h3>&lt;&lt;-&gt;</h3><h4 class="type">macro</h4><h4 class="added">added in 0.2.3</h4><div class="usage"><code>(&lt;&lt;-&gt; &amp; forms)</code></div><div class="doc"><div class="markdown"><p>Turns a thread-last macro into a thread first one.</p>
<p>(-&gt;&gt; (range 3)  (mapv inc)  (&lt;&lt;-&gt;  (conj :foo))) ;=&gt; [1 2 3 :foo]</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L432">view source</a></div></div><div class="public anchor" id="var-append"><h3>append</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(append coll &amp; xs)</code></div><div class="doc"><div class="markdown"><p>Returns a lazy seq of the elements of coll followed by xs.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L587">view source</a></div></div><div class="public anchor" id="var-append-some"><h3>append-some</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(append-some coll &amp; xs)</code></div><div class="doc"><div class="markdown"><p>Returns a lazy seq of the elements of coll followed by the non-nil xs.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L598">view source</a></div></div><div class="public anchor" id="var-assoc-in-some"><h3>assoc-in-some</h3><h4 class="added">added in 0.1.1</h4><div class="usage"><code>(assoc-in-some m ks v)</code></div><div class="doc"><div class="markdown"><p>Associates a value in a nested associative structure, if and only if the value is not nil.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L293">view source</a></div></div><div class="public anchor" id="var-assoc-some"><h3>assoc-some</h3><h4 class="added">added in 0.1.2</h4><div class="usage"><code>(assoc-some m k v)</code><code>(assoc-some m k v &amp; kvs)</code></div><div class="doc"><div class="markdown"><p>Associates a value in an associative structure, if and only if the value is not nil.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L276">view source</a></div></div><div class="public anchor" id="var-conj-some"><h3>conj-some</h3><h4 class="added">added in 0.1.0</h4><div class="usage"><code>(conj-some)</code><code>(conj-some coll)</code><code>(conj-some coll x)</code><code>(conj-some coll x &amp; xs)</code></div><div class="doc"><div class="markdown"><p>conj[oin]. Returns a new collection with the xs ‘added’ if and only if they are not nil. Otherwise behaves like core/conj.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L68">view source</a></div></div><div class="public anchor" id="var-deep-merge"><h3>deep-merge</h3><h4 class="added">added in 0.1.0</h4><div class="usage"><code>(deep-merge &amp; ms)</code></div><div class="doc"><div class="markdown"><p>Like merge, but also merges nested maps under the same key.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L19">view source</a></div></div><div class="public anchor" id="var-deep-merge-with"><h3>deep-merge-with</h3><h4 class="added">added in 0.1.0</h4><div class="usage"><code>(deep-merge-with f &amp; ms)</code></div><div class="doc"><div class="markdown"><p>Like merge-with, but also merges nested maps under the same key.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L35">view source</a></div></div><div class="public anchor" id="var-defs"><h3>defs</h3><h4 class="type">macro</h4><h4 class="added">added in 0.2.3</h4><div class="usage"><code>(defs binding body)</code></div><div class="doc"><div class="markdown"><p>defs(tructure) Like def, but can take a binding form instead of a symbol to destructure the results of the body, creating vars instead of locals. Returns a vector of the vars defined. Any metadata added to a symbol becomes metadata on the var.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L569">view source</a></div></div><div class="public anchor" id="var-flip"><h3>flip</h3><h4 class="added">added in 0.1.1</h4><div class="usage"><code>(flip f &amp; args)</code></div><div class="doc"><div class="markdown"><p>Takes a function f and arguments args. Returns a function of one argument x that is f applied with x as it’s first argument and args as the rest.</p>
<p>Almost the opposite of partial, the difference being that the returned function takes exactly one argument, the “thing” that’s being operated upon, instead of an arbitrary number of arguments. This is to reduce confusion. Meant to be used with assoc, get, conj, etc. that all take the “thing” as the first argument.</p>
<p>The name is taken from haskell, although it’s not exactly equivalent to the haskell version.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L253">view source</a></div></div><div class="public anchor" id="var-fn-.3E"><h3>fn-&gt;</h3><h4 class="type">macro</h4><h4 class="added">added in 0.1.0</h4><div class="usage"><code>(fn-&gt; &amp; forms)</code></div><div class="doc"><div class="markdown"><p>The same as #(-&gt; % ~@forms)</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L81">view source</a></div></div><div class="public anchor" id="var-fn-.3E.3E"><h3>fn-&gt;&gt;</h3><h4 class="type">macro</h4><h4 class="added">added in 0.1.0</h4><div class="usage"><code>(fn-&gt;&gt; &amp; forms)</code></div><div class="doc"><div class="markdown"><p>The same as #(-&gt;&gt; % ~@forms)</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L88">view source</a></div></div><div class="public anchor" id="var-for"><h3>for</h3><h4 class="type">macro</h4><h4 class="added">added in 1.0.1</h4><div class="usage"><code>(for seq-exprs expr)</code></div><div class="doc"><div class="markdown"><p>Like core/for, but adds :do, :when-let and :while-let modifiers.</p>
<p>A drop-in replacement for core/for.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L185">view source</a></div></div><div class="public anchor" id="var-for-map"><h3>for-map</h3><h4 class="type">macro</h4><h4 class="added">added in 0.1.0</h4><div class="usage"><code>(for-map seq-exprs key-expr val-expr)</code></div><div class="doc"><div class="markdown"><p>Like for, but takes a key and value expression and returns a map. Multiple equal keys are treated as if by repeated assoc (last one wins). Not lazy.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L229">view source</a></div></div><div class="public anchor" id="var-forcat"><h3>forcat</h3><h4 class="type">macro</h4><h4 class="added">added in 0.1.2</h4><div class="usage"><code>(forcat seq-exprs expr)</code></div><div class="doc"><div class="markdown"><p>A for variant that presumes the body evaluates to a seqable thing. Returns a lazy sequence of all elements in each body.</p>
<p>Like comfy/for, accepts the :into modifier. (Which will make it non-lazy.)</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L201">view source</a></div></div><div class="public anchor" id="var-forcatv"><h3>forcatv</h3><h4 class="type">macro</h4><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(forcatv seq-exprs body-expr)</code></div><div class="doc"><div class="markdown"><p>Like for, but presumes that the body-expr evaluates to a seqable thing, and returns a vector of every element from each body. Not lazy.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L241">view source</a></div></div><div class="public anchor" id="var-forv"><h3>forv</h3><h4 class="type">macro</h4><h4 class="added">added in 0.1.0</h4><div class="usage"><code>(forv seq-exprs body-expr)</code></div><div class="doc"><div class="markdown"><p>Like for, but returns a vector. Not lazy.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L218">view source</a></div></div><div class="public anchor" id="var-frequencies-by"><h3>frequencies-by</h3><h4 class="added">added in 0.1.2</h4><div class="usage"><code>(frequencies-by f coll)</code></div><div class="doc"><div class="markdown"><p>Returns a map of the distinct values of (f item) in coll to the number of times they appear.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L388">view source</a></div></div><div class="public anchor" id="var-group-by"><h3>group-by</h3><h4 class="added">added in 0.1.1</h4><div class="usage"><code>(group-by f coll)</code><code>(group-by f xform coll)</code><code>(group-by f xform rf coll)</code><code>(group-by f xform rf init coll)</code></div><div class="doc"><div class="markdown"><p>Returns a map of the elements of coll keyed by the result of f on each element. The value at each key will be a vector of the corresponding elements, in the order they appeared in coll.</p>
<p>When given a transducer, the resulting reducing function will be called on the vector and each element as it’s added. For each different key, a new instance of the reducing function will be created, with its own state, if any.</p>
<p>Eagerly evaluates all of coll, even if all results are reduced.</p>
<p>A drop-in replacement for core/group-by.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L332">view source</a></div></div><div class="public anchor" id="var-keep"><h3>keep</h3><h4 class="added">added in 0.1.1</h4><div class="usage"><code>(keep f)</code><code>(keep f coll)</code><code>(keep f coll &amp; colls)</code></div><div class="doc"><div class="markdown"><p>Returns a lazy sequence of the non-nil results of (f item). Note, this means false return values will be included. f must be free of side-effects. Returns a transducer when no collection is provided.</p>
<p>When given multiple collections, will behave as map. (This includes the transducer).</p>
<p>A drop-in replacement for core/keep.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L102">view source</a></div></div><div class="public anchor" id="var-map-all"><h3>map-all</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(map-all f coll &amp; colls)</code></div><div class="doc"><div class="markdown"><p>ike map, but keeps going until the end of the longest collection, substituting nil when a collection is exhausted.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L662">view source</a></div></div><div class="public anchor" id="var-one.3F"><h3>one?</h3><h4 class="added">added in 0.1.0</h4><div class="usage"><code>(one? x)</code></div><div class="doc"><div class="markdown"><p>Returns true if x is one, else false.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L49">view source</a></div></div><div class="public anchor" id="var-postwalk-reduce"><h3>postwalk-reduce</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(postwalk-reduce rf init form)</code></div><div class="doc"><div class="markdown"><p>Postwalk reduce. Performs a depth-first, post-order traversal of form calling rf on init and each sub-form. Unlike reduce, an init value is required.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L490">view source</a></div></div><div class="public anchor" id="var-postwalk-transduce"><h3>postwalk-transduce</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(postwalk-transduce xform rf form)</code><code>(postwalk-transduce xform rf init form)</code></div><div class="doc"><div class="markdown"><p>Postwalk transduce. Traverses form depth-first, post-order, behaving otherwise like transduce.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L524">view source</a></div></div><div class="public anchor" id="var-prewalk-reduce"><h3>prewalk-reduce</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(prewalk-reduce rf init form)</code></div><div class="doc"><div class="markdown"><p>Prewalk reduce. Performs a depth-first, pre-order traversal of form, calling rf on init and each sub-form. Unlike reduce, an init value is required.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L471">view source</a></div></div><div class="public anchor" id="var-prewalk-transduce"><h3>prewalk-transduce</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(prewalk-transduce xform rf form)</code><code>(prewalk-transduce xform rf init form)</code></div><div class="doc"><div class="markdown"><p>Prewalk transduce. Traverses form depth-first, pre-order, behaving otherwise like transduce.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L509">view source</a></div></div><div class="public anchor" id="var-run.21"><h3>run!</h3><h4 class="added">added in 0.1.1</h4><div class="usage"><code>(run! proc coll)</code><code>(run! proc coll &amp; colls)</code></div><div class="doc"><div class="markdown"><p>Runs the supplied procedure, for purposes of side effects, on successive items in the collection.</p>
<p>Returns nil. Not lazy.</p>
<p>When given multiple collections, proc will be called with number-of-colls arguments. Will go on for the length of the shortest collection.</p>
<p>A drop-in replacement for core/run!.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L305">view source</a></div></div><div class="public anchor" id="var-sentinel"><h3>sentinel</h3><h4 class="added">added in 1.0.3</h4><div class="usage"><code>(sentinel)</code></div><div class="doc"><div class="markdown"><p>Returns something that is only equal to itself.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L646">view source</a></div></div><div class="public anchor" id="var-sentinels"><h3>sentinels</h3><h4 class="added">added in 1.0.3</h4><div class="usage"><code>(sentinels)</code></div><div class="doc"><div class="markdown"><p>Returns an infinite sequence of distinct sentinels.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L652">view source</a></div></div><div class="public anchor" id="var-str-.3Edec"><h3>str-&gt;dec</h3><h4 class="added">added in 0.2.3</h4><div class="usage"><code>(str-&gt;dec s)</code></div><div class="doc"><div class="markdown"><p>Parses a decimal number from a string. Returns nil if the string has the wrong format or is nil. Leading zeroes are ignored.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L422">view source</a></div></div><div class="public anchor" id="var-str-.3Eint"><h3>str-&gt;int</h3><div class="usage"><code>(str-&gt;int s)</code></div><div class="doc"><div class="markdown"><p>Parses a string to an integer. Returns nil if the string has the wrong format or is nil. Leading zeroes are ignored.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L408">view source</a></div></div><div class="public anchor" id="var-take-while-distinct"><h3>take-while-distinct</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(take-while-distinct)</code><code>(take-while-distinct coll)</code></div><div class="doc"><div class="markdown"><p>Take items until an item repeats (not inclusive).</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L640">view source</a></div></div><div class="public anchor" id="var-take-while-distinct-by"><h3>take-while-distinct-by</h3><h4 class="added">added in 1.0.0</h4><div class="usage"><code>(take-while-distinct-by f)</code><code>(take-while-distinct-by f coll)</code></div><div class="doc"><div class="markdown"><p>Takes items until the f of an item repeats (not inclusive).</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L609">view source</a></div></div><div class="public anchor" id="var-two.3F"><h3>two?</h3><h4 class="added">added in 0.1.0</h4><div class="usage"><code>(two? x)</code></div><div class="doc"><div class="markdown"><p>Returns true if x is two, else false.</p></div></div><div class="src-link"><a href="http://github.com/madstap/comfy/blob/1.0.3/src/madstap/comfy.cljc#L57">view source</a></div></div></div></body></html>